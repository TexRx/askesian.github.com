<!DOCTYPE html><!--[if IE 8]>         <html class="no-js lt-ie9" lang="en"> <![endif]--><!--[if gt IE 8]><!--><html class="no-js" lang="en"><!--<![endif]--><head><meta charset="utf-8"><title>Conditional loading with require.js</title><meta name="viewport" content="width=device-width"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@askesian"><meta name="twitter:title" content="ASKESIAN"><meta name="twitter:description" content="The home of askesian"><meta name="twitter:creator" content="@askesian"><meta name="twitter:domain" content="askesian.net"><link href="/assets/css/main.css" rel="stylesheet"><meta name="google-site-verification" content="U6YPESxNVHg41T6gYx640_oFdniD2hQZ6jaiYWJBsUY"><link rel="shortcut icon" href="/assets/images/favicon.ico"></head><body><div class="row"><div class="small-12 large-12 columns"><h1 class="brand"><a href="/" title="home page of askesian.net">askesian</a></h1><div class="subheader">Supping life's nitrous oxide</div></div></div><div class="row"><div class="small-12 large-12 columns"><div class="article"><div class="article-header"><h3 class="article-header-title">Conditional loading with require.js</h3><div class="article-header-date">Apr 2013</div></div><div class="article-body"><h4 id="what">WHAT</h4><p>For my current mobile-first project, and I wanted to use jQuery 2.0 by default, but fallback to jQuery 1.9.1 when the site is loaded in IE9 or lower. I wanted to use require.js as a script loader / pseudo-IoC container to make the site as composable and performant as possible. I had everything humming along fine, exept there was one snag. I couldn’t figure out to conditionally load different versions of a script.</p><h4 id="why">WHY</h4><p>The reason I need to do this is because the site content is managed with a browser-based CMS that allows viewing the site pages as you’re editing content. Since the site content will be administered by content admins who are undoubtedly using some version of IE.</p><p>As you’ve probably read, jQuery 2.xx drops support for IE9 and lower. This is a good thing – I want to send the smaller jQuery 2.0 file to portable devices that use cellular networks for data due to the inherent latency in said networks. Additionally, given the known mobile browser cache size limits, I wanted to be more confident that the jQuery script would be cached by the mobile browser.</p><h4 id="how">HOW</h4><p>Figuring out how to do this wasn’t straightforward for me, but I finally got it. Here’s how I did it:</p><script src="https://gist.github.com/askesian/6e05daa443ca1955ea32.js"></script><p>Now, I am in no way claiming that this is the best or only way. This is my way, and it works beautifully.</p></div><div class="article-footer"><div class="article-footer-date"></div></div></div></div></div><div class="row"><div class="small-12 large-12 columns"><div class="footer"><p><a href="http://twitter.com/askesian" target="_blank">Follow me</a> on twitter.</p></div></div></div><script src="/assets/js/all.js"></script></body></html>